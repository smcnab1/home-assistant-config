mqtt:
  host: 192.168.1.67
  port: 1883
  user: mqtt-user
  password: mqtt-user

detectors:
  coral:
    type: edgetpu
    device: usb

birdseye:
  enabled: True
  width: 1920
  height: 1080
  quality: 8
  mode: continuous

detect:
  width: 1920
  height: 1080
  fps: 5
  enabled: True
  max_disappeared: 25
  stationary:
    interval: 0
    threshold: 50
    max_frames:
      default: 3000
      objects:
        person: 1000

objects:
  track:
    - person
  filters:
    person:
      min_area: 5000
      max_area: 100000
      min_score: 0.5
      threshold: 0.7

motion:
  threshold: 25
  contour_area: 30
  delta_alpha: 0.2
  frame_alpha: 0.2
  frame_height: 50
  improve_contrast: True

record:
  enabled: true
  retain: 
    days: 0
    mode: all
  events:
    max_seconds: 300
    pre_capture: 5
    post_capture: 5
    objects:
      - person
    retain:
      default: 10
      mode: motion
      objects:
        person: 15

snapshots:
  enabled: true
  timestamp: true
  bounding_box: false
  crop: false
  retain:
    default: 10
    objects:
      person: 15
  
live:
  height: 1920
  quality: 8
  
timestamp_style:
  position: tl
  format: "%d/%m/%y %H:%M:%S"
  color:
    red: 255
    green: 255
    blue: 255
  thickness: 2
  effect: solid

cameras:
  Hall:
    ffmpeg:
      inputs:
        - path: rtsp://sammcnab:Sam,McNab1.1@192.168.1.84:554/stream1
          roles:
            - record
            - rtmp
        - path: rtsp://sammcnab:Sam,McNab1.1@192.168.1.84:554/stream2
          roles:
            - detect

  Living_Room:
    ffmpeg:
      inputs:
        - path: rtsp://sammcnab:Sam,McNab1.1@192.168.1.113:554/stream1
          roles:
            - record
            - rtmp
        - path: rtsp://sammcnab:Sam,McNab1.1@192.168.1.113:554/stream2
          roles:
            - detect

  Bedroom:
    ffmpeg:
      inputs:
        - path: rtsp://sammcnab:Sam,McNab1.1@192.168.1.110:554/stream1
          roles:
            - record
            - rtmp
        - path: rtsp://sammcnab:Sam,McNab1.1@192.168.1.110:554/stream2
          roles:
            - detect

    mqtt:
      enabled: true
      timestamp: true
      bounding_box: true
      crop: true
      height: 270
      quality: 70