---
type: "custom:layout-card"
layout_type: "custom:grid-layout"
layout:
  # Tablet portrait
  grid-template-columns: "1fr 1fr 1fr 1fr 1fr 1fr"
  grid-template-areas: |
    "nav nav nav nav nav nav"
    "topbar topbar topbar topbar topbar topbar"
    "title1 title1 title1 title1 title1 title1"
    "card1 card1 card1 card1 card1 card1"
    "card2 card2 card2 card2 card2 card2"
    "title2 title2 title2 title2 title2 title2"
    "card3 card3 card3 card3 card3 card3"
    "card4 card4 card4 card4 card4 card4"
  mediaquery:
    # Mobile
    "(max-width: 800px)":
      grid-template-columns: "1fr 1fr"
      grid-template-areas: |
        "nav nav"
        "topbar topbar"
        "title1 title1"
        "card1 card1"
        "card2 card2"
        "title2 title2"
        "card3 card3"
        "card4 card4"

view_layout:
  grid-area: "popup"
cards:
  - view_layout:
      grid-area: 'nav'
    type: "custom:button-card"
    template: custom_top_bar
    variables:
      custom_top_bar_navigate_path_back: '/lovelace-minimalist-2/home'
      custom_top_bar_navigate_path_next: '/lovelace-minimalist-2/living-room'
  - view_layout: ### TOP BAR ###
      grid-area: "topbar"
    type: "custom:button-card"
    template: "custom_card_welcome"
    variables:
      ulm_weather: "weather.weather"
      ulm_room_name: Hall
      ulm_chip_back_path: "/lovelace-minimalist-2/home"
      ulm_chip_icon_state_entity: "sensor.living_room_temperature"
      ulm_chip_double_state_entity1: "sensor.hall_lights_on"
      ulm_chip_double_state_entity2: "sensor.hall_switches_on"
      entity_1:
        entity_id: "automation.lighting_hall_day"
        icon: "mdi:weather-sunny" 
        name: "Day" 
        color: "yellow"
      entity_2:
        entity_id: "automation.lighting_hall_night"
        icon: "mdi:weather-night" 
        name: "Night" 
        color: "blue"
      entity_3:
        entity_id: "automation.lighting_hall_off"
        icon: "mdi:lightbulb-off" 
        name: "Off" 
        color: "red"
      entity_4:
        entity_id: "camera.hall_frigate"
        icon: "mdi:cctv"
        name: "Camera"
        color: "purple"

  - view_layout: ### LIGHTING ###
      grid-area: "title1"
    type: "custom:button-card"
    template: "custom_card_title"
    name: "Lighting"
  - view_layout:
      grid-area: "card1"
    type: horizontal-stack
    cards:
      - type: "custom:button-card"
        template: card_light
        entity: light.hall_lamp
        variables:
          ulm_card_light_name: Lamp
          ulm_card_light_icon: mdi:lamp
          ulm_card_light_enable_color: true
          ulm_card_light_enable_popup: true
          ulm_card_light_force_background_color: true
      - type: "custom:button-card"
        template: card_light
        entity: light.hall_leds
        variables:
          ulm_card_light_name: LEDs
          ulm_card_light_icon: mdi:led-strip
          ulm_card_light_enable_color: true
          ulm_card_light_enable_popup: true
          ulm_card_light_force_background_color: true
  - view_layout:
      grid-area: "card2"
    type: horizontal-stack
    cards:
      - type: "custom:button-card"
        template: card_light
        entity: light.hall_main_lights
        variables:
          ulm_card_light_name: Main Lights
          ulm_card_light_icon: mdi:ceiling-light
          ulm_card_light_enable_color: true
          ulm_card_light_enable_popup: true
          ulm_card_light_force_background_color: true

  - view_layout: ### SECURITY ###
      grid-area: "title2"
    type: "custom:button-card"
    template: "custom_card_title"
    name: "Security"
  - view_layout:
      grid-area: "card3"
    type: horizontal-stack
    cards:
      - type: 'custom:button-card'
        template:
          - card_binary_sensor_alert
          - battery_info
        entity: binary_sensor.hall_motion
        variables:
          ulm_show_last_changed: true
          ulm_battery_entity: sensor.hall_motion_battery
          ulm_card_binary_sensor_alert_name: Motion
      - type: 'custom:button-card'
        template:
          - card_binary_sensor_alert
          - battery_info
        entity: binary_sensor.front_door_sensor
        variables:
          ulm_show_last_changed: true
          ulm_battery_entity: sensor.front_door_sensor_battery
          ulm_card_binary_sensor_alert_name: Door
  - view_layout: ### CAMERA ###
      grid-area: "card4"
    type: "custom:button-card"
    template: card_vertical_button
    entity: input_boolean.test_toggle
    name: Camera
    icon: mdi:cctv
    tap_action:
      action: fire-dom-event
      browser_mod:
        service: browser_mod.popup
        data:
          title: "Hall Camera"
          content:
            type: custom:frigate-card
            cameras:
              - camera_entity: camera.hall_frigate
                camera_name: Hall
            view:
              default: live
            menu:
              mode: overlay-bottom
              buttons:
                image: true
            live:
              lazy_load: false
              auto_unmute: true
              preload: true
              controls:
                thumbnails:
                  media: clips
                  mode: below
