---
### Card Binary Sensor Alert ###
card_binary_sensor_alert_car:
  template:
    - "icon_more_info_alert"
    - "blue"
    - "ulm_translation_engine"
  show_last_changed: false
  tap_action:
    action: more-info
  double_tap_action:
    action: "call-service"
    service: "automation.trigger"
    service_data:
      entity_id: "automation.car_wash_wash_car_notification"
  variables:
    ulm_show_last_changed: false
    ulm_card_binary_sensor_alert_icon: mdi:car-wash
  custom_fields:
    item1:
      card:
        type: "custom:button-card"
        template:
          - "blue"
        tap_action:
          action: more-info
        double_tap_action:
          action: "call-service"
          service: "automation.trigger"
          service_data:
            entity_id: "automation.car_wash_wash_car_notification"
        custom_fields:
          item1:
            card:
              type: "custom:button-card"
              template:
                - "blue"
              tap_action:
                action: more-info
              double_tap_action:
                action: "call-service"
                service: "automation.trigger"
                service_data:
                  entity_id: "automation.car_wash_wash_car_notification"
              entity: binary_sensor.car_wash
              icon: mdi:car-wash
              styles:
                icon: 
                  - color: >
                      [[[
                        if (states['binary_sensor.car_wash'].state == 'on')
                          return "rgba(var(--color-red), 1)";
                        else
                          return "rgba(var(--color-grey), 1)";
                        ]]]

                  
                img-cell: 
                  - background-color: >
                      [[[
                        if (states['binary_sensor.car_wash'].state == 'on')
                          return "rgba(var(--color-red), 0.2)";
                        else
                          return "rgba(var(--color-grey), 0.2)";
                        ]]]
                card:
                  - background-color: >
                      [[[
                        if (states['binary_sensor.car_wash'].state == 'on')
                          return "rgba(var(--color-red), 0.2)";
                        else
                          return "rgba(var(--color-grey), 0.2)";
                        ]]]
          item2:
            card:
              type: "custom:button-card"
              template:
                - "blue_no_card"
              tap_action:
                action: more-info
              double_tap_action:
                action: "call-service"
                service: "automation.trigger"
                service_data:
                  entity_id: "automation.car_wash_wash_car_notification"
              entity: binary_sensor.car_wash
              name: "[[[ return variables.ulm_translation_state;]]]"
              label: Should you Wash your Car?
              show_last_changed: "[[[ return variables.ulm_show_last_changed; ]]]"
