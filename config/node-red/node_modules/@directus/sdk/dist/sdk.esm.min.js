class t{constructor(){this.mode="undefined"==typeof window?"json":"cookie"}}var e,r;!function(t){t.TOTAL_COUNT="total_count",t.FILTER_COUNT="filter_count"}(e||(e={}));class s extends Error{constructor(t){super(`${null!=t?t:"ID"} cannot be an empty string`)}}class n{constructor(t,e){this.collection=t,this.transport=e,this.endpoint=t.startsWith("directus_")?`/${t.substring(9)}`:`/items/${t}`}async readOne(t,e,r){if(""==`${t}`)throw new s("id");return(await this.transport.get(`${this.endpoint}/${encodeURI(t)}`,{params:e,...null==r?void 0:r.requestOptions})).data}async readMany(t,e,r){var s;const n=null===(s=(await this.transport.get(`/fields/${this.collection}`)).data)||void 0===s?void 0:s.find((t=>!0===t.schema.is_primary_key)),{data:o,meta:i}=await this.transport.get(`${this.endpoint}`,{params:{filter:{[n.field]:{_in:t},...null==e?void 0:e.filter},sort:(null==e?void 0:e.sort)||n.field,...e},...null==r?void 0:r.requestOptions});return{data:o,...i&&{meta:i}}}async readByQuery(t,e){const{data:r,meta:s}=await this.transport.get(`${this.endpoint}`,{params:t,...null==e?void 0:e.requestOptions});return{data:r,...s&&{meta:s}}}async createOne(t,e,r){return(await this.transport.post(`${this.endpoint}`,t,{params:e,...null==r?void 0:r.requestOptions})).data}async createMany(t,e,r){return await this.transport.post(`${this.endpoint}`,t,{params:e,...null==r?void 0:r.requestOptions})}async updateOne(t,e,r,n){if(""==`${t}`)throw new s("id");return(await this.transport.patch(`${this.endpoint}/${encodeURI(t)}`,e,{params:r,...null==n?void 0:n.requestOptions})).data}async updateMany(t,e,r,s){return await this.transport.patch(`${this.endpoint}`,{keys:t,data:e},{params:r,...null==s?void 0:s.requestOptions})}async updateByQuery(t,e,r,s){return await this.transport.patch(`${this.endpoint}`,{query:t,data:e},{params:r,...null==s?void 0:s.requestOptions})}async deleteOne(t,e){if(""==`${t}`)throw new s("id");await this.transport.delete(`${this.endpoint}/${encodeURI(t)}`,void 0,null==e?void 0:e.requestOptions)}async deleteMany(t,e){await this.transport.delete(`${this.endpoint}`,t,null==e?void 0:e.requestOptions)}}class o{constructor(t){this.transport=t}async create(t){return(await this.transport.post("/activity/comment",t)).data}async update(t,e){if(""==`${t}`)throw new s("comment_activity_id");return(await this.transport.patch(`/activity/comment/${encodeURI(t)}`,{comment:e})).data}async delete(t){if(""==`${t}`)throw new s("comment_activity_id");await this.transport.delete(`/activity/comment/${encodeURI(t)}`)}}class i extends n{constructor(t){super("directus_activity",t),this._comments=new o(this.transport)}get comments(){return this._comments}}class a{constructor(t){this.transport=t}async readOne(t){if(""==`${t}`)throw new s("collection");return(await this.transport.get(`/collections/${t}`)).data}async readAll(){const{data:t,meta:e}=await this.transport.get("/collections");return{data:t,meta:e}}async createOne(t){return(await this.transport.post("/collections",t)).data}async createMany(t){const{data:e,meta:r}=await this.transport.post("/collections",t);return{data:e,meta:r}}async updateOne(t,e,r){if(""==`${t}`)throw new s("collection");return(await this.transport.patch(`/collections/${t}`,e,{params:r})).data}async deleteOne(t){if(""==`${t}`)throw new s("collection");await this.transport.delete(`/collections/${t}`)}}class u{constructor(t){this.transport=t}async readOne(t,e){if(""==`${t}`)throw new s("collection");if(""==`${e}`)throw new s("id");return(await this.transport.get(`/fields/${t}/${e}`)).data}async readMany(t){if(""==`${t}`)throw new s("collection");return(await this.transport.get(`/fields/${t}`)).data}async readAll(){return(await this.transport.get("/fields")).data}async createOne(t,e){if(""==`${t}`)throw new s("collection");return(await this.transport.post(`/fields/${t}`,e)).data}async updateOne(t,e,r){if(""==`${t}`)throw new s("collection");if(""==`${e}`)throw new s("field");return(await this.transport.patch(`/fields/${t}/${e}`,r)).data}async deleteOne(t,e){if(""==`${t}`)throw new s("collection");if(""==`${e}`)throw new s("field");await this.transport.delete(`/fields/${t}/${e}`)}}class c extends n{constructor(t){super("directus_files",t)}async import(t){return(await this.transport.post("/files/import",t)).data}}class h extends n{constructor(t){super("directus_folders",t)}}class l extends n{constructor(t){super("directus_permissions",t)}}class p extends n{constructor(t){super("directus_presets",t)}}class d{constructor(t){this.transport=t}async readOne(t,e){if(""==`${t}`)throw new s("collection");if(""==`${e}`)throw new s("id");return(await this.transport.get(`/relations/${t}/${e}`)).data}async readMany(t){if(""==`${t}`)throw new s("collection");return(await this.transport.get(`/relations/${t}`)).data}async readAll(){return(await this.transport.get("/relations")).data}async createOne(t){return(await this.transport.post("/relations",t)).data}async updateOne(t,e,r){if(""==`${t}`)throw new s("collection");if(""==`${e}`)throw new s("field");return(await this.transport.patch(`/relations/${t}/${e}`,{params:r})).data}async deleteOne(t,e){if(""==`${t}`)throw new s("collection");if(""==`${e}`)throw new s("field");await this.transport.delete(`/relations/${t}/${e}`)}}class f extends n{constructor(t){super("directus_revisions",t)}}class m extends n{constructor(t){super("directus_roles",t)}}class g{constructor(t){this.transport=t}async ping(){return(await this.transport.get("/server/ping")).raw}async info(){return(await this.transport.get("/server/info")).data}}class w{constructor(t,e){this.collection=t,this.transport=e,this.endpoint=t.startsWith("directus_")?`/${t.substring(9)}`:`/items/${t}`}async read(t){return(await this.transport.get(`${this.endpoint}`,{params:t})).data}async update(t,e){return(await this.transport.patch(`${this.endpoint}`,t,{params:e})).data}}class v extends w{constructor(t){super("directus_settings",t)}}class y{constructor(t){this.transport=t}async send(t,e,r){await this.transport.post("/users/invite",{email:t,role:e,invite_url:r})}async accept(t,e){await this.transport.post("/users/invite/accept",{token:t,password:e})}}class _{constructor(t){this.transport=t}async generate(t){return(await this.transport.post("/users/me/tfa/generate",{password:t})).data}async enable(t,e){await this.transport.post("/users/me/tfa/enable",{secret:t,otp:e})}async disable(t){await this.transport.post("/users/me/tfa/disable",{otp:t})}}class x{constructor(t){this._transport=t}get tfa(){return this._tfa||(this._tfa=new _(this._transport))}async read(t){return(await this._transport.get("/users/me",{params:t})).data}async update(t,e){return(await this._transport.patch("/users/me",t,{params:e})).data}}class b extends n{constructor(t){super("directus_users",t)}get invites(){return this._invites||(this._invites=new y(this.transport))}get me(){return this._me||(this._me=new x(this.transport))}}class k{constructor(t){this.random={string:async(t=32)=>(await this.transport.get("/utils/random/string",{params:{length:t}})).data},this.hash={generate:async t=>(await this.transport.post("/utils/hash/generate",{string:t})).data,verify:async(t,e)=>(await this.transport.post("/utils/hash/verify",{string:t,hash:e})).data},this.transport=t}async sort(t,e,r){await this.transport.post(`/utils/sort/${encodeURI(t)}`,{item:e,to:r})}async revert(t){await this.transport.post(`/utils/revert/${encodeURI(t)}`)}}class O{}class E{}class $ extends Error{constructor(t,e){var r,s;(null===(r=null==e?void 0:e.errors)||void 0===r?void 0:r.length)?super(null===(s=null==e?void 0:e.errors[0])||void 0===s?void 0:s.message):super((null==t?void 0:t.message)||"Unknown transport error"),this.parent=t,this.response=e,this.errors=(null==e?void 0:e.errors)||[],Object.values(e||{}).some((t=>void 0!==t))||(this.response=void 0),Object.setPrototypeOf(this,$.prototype)}}!function(t){t.AuthToken="auth_token",t.RefreshToken="auth_refresh_token",t.Expires="auth_expires",t.ExpiresAt="auth_expires_at"}(r||(r={}));class S extends O{constructor(t){var e;super(),this.prefix=null!==(e=null==t?void 0:t.prefix)&&void 0!==e?e:""}get auth_token(){return this.get(r.AuthToken)}set auth_token(t){null===t?this.delete(r.AuthToken):this.set(r.AuthToken,t)}get auth_expires(){const t=this.get(r.Expires);return null===t?null:parseInt(t)}set auth_expires(t){null===t?this.delete(r.Expires):this.set(r.Expires,t.toString())}get auth_expires_at(){const t=this.get(r.ExpiresAt);return null===t?null:parseInt(t)}set auth_expires_at(t){null===t?this.delete(r.ExpiresAt):this.set(r.ExpiresAt,t.toString())}get auth_refresh_token(){return this.get(r.RefreshToken)}set auth_refresh_token(t){null===t?this.delete(r.RefreshToken):this.set(r.RefreshToken,t)}}class R extends S{constructor(){super(...arguments),this.values={}}get(t){const e=this.key(t);return e in this.values?this.values[e]:null}set(t,e){return this.values[this.key(t)]=e,e}delete(t){const e=this.key(t),r=this.get(t);return e in this.values&&delete this.values[e],r}key(t){return`${this.prefix}${t}`}}class T extends S{get(t){const e=localStorage.getItem(this.key(t));return null!==e?e:null}set(t,e){return localStorage.setItem(this.key(t),e),e}delete(t){const e=this.key(t),r=this.get(e);return r&&localStorage.removeItem(e),r}key(t){return`${this.prefix}${t}`}}var q={exports:{}},A=function(t,e){return function(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];return t.apply(e,r)}},j=A,U=Object.prototype.toString;function C(t){return"[object Array]"===U.call(t)}function N(t){return void 0===t}function P(t){return null!==t&&"object"==typeof t}function B(t){if("[object Object]"!==U.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function L(t){return"[object Function]"===U.call(t)}function I(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),C(t))for(var r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}var D={isArray:C,isArrayBuffer:function(t){return"[object ArrayBuffer]"===U.call(t)},isBuffer:function(t){return null!==t&&!N(t)&&null!==t.constructor&&!N(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:P,isPlainObject:B,isUndefined:N,isDate:function(t){return"[object Date]"===U.call(t)},isFile:function(t){return"[object File]"===U.call(t)},isBlob:function(t){return"[object Blob]"===U.call(t)},isFunction:L,isStream:function(t){return P(t)&&L(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:I,merge:function t(){var e={};function r(r,s){B(e[s])&&B(r)?e[s]=t(e[s],r):B(r)?e[s]=t({},r):C(r)?e[s]=r.slice():e[s]=r}for(var s=0,n=arguments.length;s<n;s++)I(arguments[s],r);return e},extend:function(t,e,r){return I(e,(function(e,s){t[s]=r&&"function"==typeof e?j(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}},M=D;function F(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var J=function(t,e,r){if(!e)return t;var s;if(r)s=r(e);else if(M.isURLSearchParams(e))s=e.toString();else{var n=[];M.forEach(e,(function(t,e){null!=t&&(M.isArray(t)?e+="[]":t=[t],M.forEach(t,(function(t){M.isDate(t)?t=t.toISOString():M.isObject(t)&&(t=JSON.stringify(t)),n.push(F(e)+"="+F(t))})))})),s=n.join("&")}if(s){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t},z=D;function H(){this.handlers=[]}H.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},H.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},H.prototype.forEach=function(t){z.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var W=H,V=D,X=function(t,e,r,s,n){return t.config=e,r&&(t.code=r),t.request=s,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},K=X,Q=function(t,e,r,s,n){var o=new Error(t);return K(o,e,r,s,n)},G=Q,Y=D,Z=Y.isStandardBrowserEnv()?{write:function(t,e,r,s,n,o){var i=[];i.push(t+"="+encodeURIComponent(e)),Y.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Y.isString(s)&&i.push("path="+s),Y.isString(n)&&i.push("domain="+n),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},tt=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},et=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t},rt=D,st=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],nt=D,ot=nt.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function s(t){var s=t;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=s(window.location.href),function(e){var r=nt.isString(e)?s(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0};function it(t){this.message=t}it.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},it.prototype.__CANCEL__=!0;var at=it,ut=D,ct=function(t,e,r){var s=r.config.validateStatus;r.status&&s&&!s(r.status)?e(G("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)},ht=Z,lt=J,pt=function(t,e){return t&&!tt(e)?et(t,e):e},dt=function(t){var e,r,s,n={};return t?(rt.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=rt.trim(t.substr(0,s)).toLowerCase(),r=rt.trim(t.substr(s+1)),e){if(n[e]&&st.indexOf(e)>=0)return;n[e]="set-cookie"===e?(n[e]?n[e]:[]).concat([r]):n[e]?n[e]+", "+r:r}})),n):n},ft=ot,mt=Q,gt=$t,wt=at,vt=function(t){return new Promise((function(e,r){var s,n=t.data,o=t.headers,i=t.responseType;function a(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}ut.isFormData(n)&&delete o["Content-Type"];var u=new XMLHttpRequest;if(t.auth){var c=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(c+":"+h)}var l=pt(t.baseURL,t.url);function p(){if(u){var s="getAllResponseHeaders"in u?dt(u.getAllResponseHeaders()):null,n={data:i&&"text"!==i&&"json"!==i?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:s,config:t,request:u};ct((function(t){e(t),a()}),(function(t){r(t),a()}),n),u=null}}if(u.open(t.method.toUpperCase(),lt(l,t.params,t.paramsSerializer),!0),u.timeout=t.timeout,"onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(p)},u.onabort=function(){u&&(r(mt("Request aborted",t,"ECONNABORTED",u)),u=null)},u.onerror=function(){r(mt("Network Error",t,null,u)),u=null},u.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",s=t.transitional||gt.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(mt(e,t,s.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},ut.isStandardBrowserEnv()){var d=(t.withCredentials||ft(l))&&t.xsrfCookieName?ht.read(t.xsrfCookieName):void 0;d&&(o[t.xsrfHeaderName]=d)}"setRequestHeader"in u&&ut.forEach(o,(function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete o[e]:u.setRequestHeader(e,t)})),ut.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),i&&"json"!==i&&(u.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&u.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(s=function(t){u&&(r(!t||t&&t.type?new wt("canceled"):t),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s))),n||(n=null),u.send(n)}))},yt=D,_t=function(t,e){V.forEach(t,(function(r,s){s!==e&&s.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[s])}))},xt=X,bt={"Content-Type":"application/x-www-form-urlencoded"};function kt(t,e){!yt.isUndefined(t)&&yt.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var Ot,Et={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Ot=vt),Ot),transformRequest:[function(t,e){return _t(e,"Accept"),_t(e,"Content-Type"),yt.isFormData(t)||yt.isArrayBuffer(t)||yt.isBuffer(t)||yt.isStream(t)||yt.isFile(t)||yt.isBlob(t)?t:yt.isArrayBufferView(t)?t.buffer:yt.isURLSearchParams(t)?(kt(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):yt.isObject(t)||e&&"application/json"===e["Content-Type"]?(kt(e,"application/json"),function(t,e,r){if(yt.isString(t))try{return(e||JSON.parse)(t),yt.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||Et.transitional,r=e&&e.silentJSONParsing,s=e&&e.forcedJSONParsing,n=!r&&"json"===this.responseType;if(n||s&&yt.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw xt(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};yt.forEach(["delete","get","head"],(function(t){Et.headers[t]={}})),yt.forEach(["post","put","patch"],(function(t){Et.headers[t]=yt.merge(bt)}));var $t=Et,St=D,Rt=$t,Tt=function(t){return!(!t||!t.__CANCEL__)},qt=D,At=function(t,e,r){var s=this||Rt;return St.forEach(r,(function(r){t=r.call(s,t,e)})),t},jt=Tt,Ut=$t,Ct=at;function Nt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ct("canceled")}var Pt=D,Bt=function(t,e){e=e||{};var r={};function s(t,e){return Pt.isPlainObject(t)&&Pt.isPlainObject(e)?Pt.merge(t,e):Pt.isPlainObject(e)?Pt.merge({},e):Pt.isArray(e)?e.slice():e}function n(r){return Pt.isUndefined(e[r])?Pt.isUndefined(t[r])?void 0:s(void 0,t[r]):s(t[r],e[r])}function o(t){if(!Pt.isUndefined(e[t]))return s(void 0,e[t])}function i(r){return Pt.isUndefined(e[r])?Pt.isUndefined(t[r])?void 0:s(void 0,t[r]):s(void 0,e[r])}function a(r){return r in e?s(t[r],e[r]):r in t?s(void 0,t[r]):void 0}var u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a};return Pt.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=u[t]||n,s=e(t);Pt.isUndefined(s)&&e!==a||(r[t]=s)})),r},Lt="0.24.0",It=Lt,Dt={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){Dt[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var Mt={};Dt.transitional=function(t,e,r){function s(t,e){return"[Axios v"+It+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,o){if(!1===t)throw new Error(s(n," has been removed"+(e?" in "+e:"")));return e&&!Mt[n]&&(Mt[n]=!0,console.warn(s(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,o)}};var Ft={assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var s=Object.keys(t),n=s.length;n-- >0;){var o=s[n],i=e[o];if(i){var a=t[o],u=void 0===a||i(a,o,t);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:Dt},Jt=D,zt=J,Ht=W,Wt=function(t){return Nt(t),t.headers=t.headers||{},t.data=At.call(t,t.data,t.headers,t.transformRequest),t.headers=qt.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),qt.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||Ut.adapter)(t).then((function(e){return Nt(t),e.data=At.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return jt(e)||(Nt(t),e&&e.response&&(e.response.data=At.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},Vt=Bt,Xt=Ft,Kt=Xt.validators;function Qt(t){this.defaults=t,this.interceptors={request:new Ht,response:new Ht}}Qt.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=Vt(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&Xt.assertOptions(e,{silentJSONParsing:Kt.transitional(Kt.boolean),forcedJSONParsing:Kt.transitional(Kt.boolean),clarifyTimeoutError:Kt.transitional(Kt.boolean)},!1);var r=[],s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var n,o=[];if(this.interceptors.response.forEach((function(t){o.push(t.fulfilled,t.rejected)})),!s){var i=[Wt,void 0];for(Array.prototype.unshift.apply(i,r),i=i.concat(o),n=Promise.resolve(t);i.length;)n=n.then(i.shift(),i.shift());return n}for(var a=t;r.length;){var u=r.shift(),c=r.shift();try{a=u(a)}catch(t){c(t);break}}try{n=Wt(a)}catch(t){return Promise.reject(t)}for(;o.length;)n=n.then(o.shift(),o.shift());return n},Qt.prototype.getUri=function(t){return t=Vt(this.defaults,t),zt(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},Jt.forEach(["delete","get","head","options"],(function(t){Qt.prototype[t]=function(e,r){return this.request(Vt(r||{},{method:t,url:e,data:(r||{}).data}))}})),Jt.forEach(["post","put","patch"],(function(t){Qt.prototype[t]=function(e,r,s){return this.request(Vt(s||{},{method:t,url:e,data:r}))}}));var Gt=Qt,Yt=at;function Zt(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,s=r._listeners.length;for(e=0;e<s;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,s=new Promise((function(t){r.subscribe(t),e=t})).then(t);return s.cancel=function(){r.unsubscribe(e)},s},t((function(t){r.reason||(r.reason=new Yt(t),e(r.reason))}))}Zt.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Zt.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},Zt.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},Zt.source=function(){var t;return{token:new Zt((function(e){t=e})),cancel:t}};var te=Zt,ee=D,re=A,se=Gt,ne=Bt;var oe=function t(e){var r=new se(e),s=re(se.prototype.request,r);return ee.extend(s,se.prototype,r),ee.extend(s,r),s.create=function(r){return t(ne(e,r))},s}($t);oe.Axios=se,oe.Cancel=at,oe.CancelToken=te,oe.isCancel=Tt,oe.VERSION=Lt,oe.all=function(t){return Promise.all(t)},oe.spread=function(t){return function(e){return t.apply(null,e)}},oe.isAxiosError=function(t){return"object"==typeof t&&!0===t.isAxiosError},q.exports=oe,q.exports.default=oe;var ie=q.exports;class ae extends E{constructor(t){var e;super(),this.config=t,this.axios=ie.create({baseURL:this.config.url,params:this.config.params,headers:this.config.headers,onUploadProgress:this.config.onUploadProgress,withCredentials:!0}),(null===(e=this.config)||void 0===e?void 0:e.beforeRequest)&&(this.beforeRequest=this.config.beforeRequest)}async beforeRequest(t){return t}get url(){return this.config.url}async request(t,e,r,s){var n,o,i,a,u;try{let n={method:t,url:e,data:r,params:null==s?void 0:s.params,headers:null==s?void 0:s.headers,onUploadProgress:null==s?void 0:s.onUploadProgress};n=await this.beforeRequest(n);const o=await this.axios.request(n),i={raw:o.data,status:o.status,statusText:o.statusText,headers:o.headers,data:o.data.data,meta:o.data.meta,errors:o.data.errors};if(o.data.errors)throw new $(null,i);return i}catch(t){if(!t||t instanceof Error==!1)throw t;if(ie.isAxiosError(t)){const e=null===(n=t.response)||void 0===n?void 0:n.data;throw new $(t,{raw:null===(o=t.response)||void 0===o?void 0:o.data,status:null===(i=t.response)||void 0===i?void 0:i.status,statusText:null===(a=t.response)||void 0===a?void 0:a.statusText,headers:null===(u=t.response)||void 0===u?void 0:u.headers,data:null==e?void 0:e.data,meta:null==e?void 0:e.meta,errors:null==e?void 0:e.errors})}throw new $(t)}}async get(t,e){return await this.request("get",t,void 0,e)}async head(t,e){return await this.request("head",t,void 0,e)}async options(t,e){return await this.request("options",t,void 0,e)}async delete(t,e,r){return await this.request("delete",t,e,r)}async put(t,e,r){return await this.request("put",t,e,r)}async post(t,e,r){return await this.request("post",t,e,r)}async patch(t,e,r){return await this.request("patch",t,e,r)}}class ue{constructor(t){this.transport=t}async request(t,e){await this.transport.post("/auth/password/request",{email:t,reset_url:e})}async reset(t,e){await this.transport.post("/auth/password/reset",{token:t,password:e})}}class ce extends t{constructor(t){var e,r,s;super(),this.autoRefresh=!0,this.msRefreshBeforeExpires=3e4,this.staticToken="",this._transport=t.transport,this._storage=t.storage,this.autoRefresh=null!==(e=null==t?void 0:t.autoRefresh)&&void 0!==e?e:this.autoRefresh,this.mode=null!==(r=null==t?void 0:t.mode)&&void 0!==r?r:this.mode,this.msRefreshBeforeExpires=null!==(s=null==t?void 0:t.msRefreshBeforeExpires)&&void 0!==s?s:this.msRefreshBeforeExpires,(null==t?void 0:t.staticToken)&&(this.staticToken=null==t?void 0:t.staticToken,this.updateStorage({access_token:this.staticToken,expires:null,refresh_token:null}))}get storage(){return this._storage}get transport(){return this._transport}get token(){return this._storage.auth_token}get password(){return this.passwords=this.passwords||new ue(this._transport)}resetStorage(){this._storage.auth_token=null,this._storage.auth_refresh_token=null,this._storage.auth_expires=null,this._storage.auth_expires_at=null}updateStorage(t){var e,r;const s=null!==(e=t.expires)&&void 0!==e?e:null;this._storage.auth_token=t.access_token,this._storage.auth_refresh_token=null!==(r=t.refresh_token)&&void 0!==r?r:null,this._storage.auth_expires=s,this._storage.auth_expires_at=(new Date).getTime()+(null!=s?s:0)}async refreshIfExpired(){if(!this.staticToken&&this.autoRefresh)if(this._storage.auth_expires_at){this._storage.auth_expires_at<(new Date).getTime()+this.msRefreshBeforeExpires&&(this._refreshPromise=this.refresh());try{await this._refreshPromise}finally{this._refreshPromise=void 0}}else try{await this._refreshPromise}finally{this._refreshPromise=void 0}}async refresh(){var t;const e=this._storage.auth_refresh_token;this.resetStorage();const r=await this._transport.post("/auth/refresh",{refresh_token:"json"===this.mode?e:void 0});return this.updateStorage(r.data),{access_token:r.data.access_token,...(null===(t=r.data)||void 0===t?void 0:t.refresh_token)&&{refresh_token:r.data.refresh_token},expires:r.data.expires}}async login(t){var e;this.resetStorage();const r=await this._transport.post("/auth/login",{mode:this.mode,...t},{headers:{Authorization:null}});return this.updateStorage(r.data),{access_token:r.data.access_token,...(null===(e=r.data)||void 0===e?void 0:e.refresh_token)&&{refresh_token:r.data.refresh_token},expires:r.data.expires}}async static(t){return this.staticToken||(this.staticToken=t),await this._transport.get("/users/me",{params:{access_token:t},headers:{Authorization:null}}),this.updateStorage({access_token:t,expires:null,refresh_token:null}),!0}async logout(){let t;"json"===this.mode&&(t=this._storage.auth_refresh_token||void 0),await this._transport.post("/auth/logout",{refresh_token:t}),this.updateStorage({access_token:null,expires:null,refresh_token:null})}}class he{constructor(t){this.transport=t}async request(t,e,r){return await this.transport.post(t,{query:e,variables:void 0===r?{}:r})}async items(t,e){return await this.request("/graphql",t,e)}async system(t,e){return await this.request("/graphql/system",t,e)}}class le{constructor(e,r){var s,n,o,i,a,u,c,h,l;if(this._url=e,this._options=r,this._items={},this._singletons={},(null===(s=this._options)||void 0===s?void 0:s.storage)&&(null===(n=this._options)||void 0===n?void 0:n.storage)instanceof O)this._storage=this._options.storage;else{const t=null===(o=this._options)||void 0===o?void 0:o.storage,{mode:e,...r}=null!=t?t:{};"MemoryStorage"===e||"undefined"==typeof window?this._storage=new R(r):this._storage=new T(r)}(null===(i=this._options)||void 0===i?void 0:i.transport)&&(null===(a=this._options)||void 0===a?void 0:a.transport)instanceof E?this._transport=this._options.transport:this._transport=new ae({url:this.url,beforeRequest:async t=>{await this._auth.refreshIfExpired();const e=this.storage.auth_token,r=e?e.startsWith("Bearer ")?String(this.storage.auth_token):`Bearer ${this.storage.auth_token}`:"";return{...t,headers:{Authorization:r,...t.headers}}},...null===(u=this._options)||void 0===u?void 0:u.transport}),(null===(c=this._options)||void 0===c?void 0:c.auth)&&(null===(h=this._options)||void 0===h?void 0:h.auth)instanceof t?this._auth=this._options.auth:this._auth=new ce({transport:this._transport,storage:this._storage,...null===(l=this._options)||void 0===l?void 0:l.auth})}get url(){return this._url}get auth(){return this._auth}get storage(){return this._storage}get transport(){return this._transport}get activity(){return this._activity||(this._activity=new i(this.transport))}get collections(){return this._collections||(this._collections=new a(this.transport))}get fields(){return this._fields||(this._fields=new u(this.transport))}get files(){return this._files||(this._files=new c(this.transport))}get folders(){return this._folders||(this._folders=new h(this.transport))}get permissions(){return this._permissions||(this._permissions=new l(this.transport))}get presets(){return this._presets||(this._presets=new p(this.transport))}get relations(){return this._relations||(this._relations=new d(this.transport))}get revisions(){return this._revisions||(this._revisions=new f(this.transport))}get roles(){return this._roles||(this._roles=new m(this.transport))}get users(){return this._users||(this._users=new b(this.transport))}get settings(){return this._settings||(this._settings=new v(this.transport))}get server(){return this._server||(this._server=new g(this.transport))}get utils(){return this._utils||(this._utils=new k(this.transport))}get graphql(){return this._graphql||(this._graphql=new he(this.transport))}singleton(t){return this._singletons[t]||(this._singletons[t]=new w(t,this.transport))}items(t){return this._items[t]||(this._items[t]=new n(t,this.transport))}}export{i as ActivityHandler,ce as Auth,S as BaseStorage,a as CollectionsHandler,o as CommentsHandler,le as Directus,s as EmptyParamError,u as FieldsHandler,c as FilesHandler,h as FoldersHandler,t as IAuth,O as IStorage,E as ITransport,n as ItemsHandler,T as LocalStorage,R as MemoryStorage,e as Meta,l as PermissionsHandler,p as PresetsHandler,d as RelationsHandler,f as RevisionsHandler,m as RolesHandler,g as ServerHandler,v as SettingsHandler,ae as Transport,$ as TransportError,b as UsersHandler,k as UtilsHandler};
//# sourceMappingURL=sdk.esm.min.js.map
