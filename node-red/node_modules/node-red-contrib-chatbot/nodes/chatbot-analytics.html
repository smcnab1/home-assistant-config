<script type="text/javascript">
  $.RedBot.registerType('chatbot-analytics',{
    category: $.RedBot.config.name + ' Platforms',
    color: '#FFCC66',
    defaults: {
      platform: {
        value: 'dashbot'
      },
      token: {
        value: ''
      }
    },
    inputs: 1,
    outputs: 1,
    paletteLabel: 'Analytics',
    icon: 'chatbot-analytics.png',
    label: function() {
      return 'Analytics';
    }
  });
</script>

<script type="text/x-red" data-template-name="chatbot-analytics">
<div class="form-row">
  <label for="node-input-platform"><i class="icon-flag"></i> Service</label>
  <select id="node-input-platform" placeholder="Analytics platform">
    <option value="dashbot">Dashbot.io</option>
  </select>
</div>
<div class="form-row">
  <label for="node-input-place"><i class="icon-wrench"></i> Token</label>
  <input type="text" id="node-input-token" placeholder="Token">
  <div style="max-width: 460px;font-size: 12px;color: #999999;line-height: 14px;margin-top:5px;">
    Api token for the analytics platform, get a valid API key from the analytics control panel.
  </div>
</div>
</script>

<script type="text/x-red" data-help-name="chatbot-analytics"><p>Track chatbot activities with external services, currently only <em>Dashbot.io</em> is supported.</p>
<p>This is a pass-through node, it will track the message in the selected analytics platform and forward the unmodified message to the output. Place the node just after a receiver (for example a <a href="https://www.notion.so/4132ce6c78dc4dbbab0fe9eb7e1c3c9b">Telegram Receiver node</a> ) and just before sender (for example a <a href="https://www.notion.so/cfee3d0ae8164faaa542374e0b449769">Telegram Sender Node</a>  ).</p>
</script>
